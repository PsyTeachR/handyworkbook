
# Within-Subjects t-test

## The Worked Example

Let's say that this is our starting data:

<table>
 <thead>
  <tr>
   <th style="text-align:center;"> Participants </th>
   <th style="text-align:center;"> PreTest </th>
   <th style="text-align:center;"> PostTest </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 60 </td>
   <td style="text-align:center;"> 68 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 64 </td>
   <td style="text-align:center;"> 75 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 56 </td>
   <td style="text-align:center;"> 62 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 82 </td>
   <td style="text-align:center;"> 85 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 74 </td>
   <td style="text-align:center;"> 73 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 79 </td>
   <td style="text-align:center;"> 85 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 63 </td>
   <td style="text-align:center;"> 64 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 8 </td>
   <td style="text-align:center;"> 59 </td>
   <td style="text-align:center;"> 59 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 9 </td>
   <td style="text-align:center;"> 72 </td>
   <td style="text-align:center;"> 73 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;"> 66 </td>
   <td style="text-align:center;"> 70 </td>
  </tr>
</tbody>
</table>

The first thing we need to do is calculate the difference between the PostTest and the PreTest for each participant, based on $D = PostTest - PreTest$.  So for example:

* Participant 1 would be: 68 - 60 = 8
* Participant 2 would be: 75 - 64 = 11
* etc

And if we do that for each Participant and added a column of the differences ($D$) then we would see:

<table>
 <thead>
  <tr>
   <th style="text-align:center;"> Participants </th>
   <th style="text-align:center;"> PreTest </th>
   <th style="text-align:center;"> PostTest </th>
   <th style="text-align:center;"> D </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 60 </td>
   <td style="text-align:center;"> 68 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 64 </td>
   <td style="text-align:center;"> 75 </td>
   <td style="text-align:center;"> 11 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 56 </td>
   <td style="text-align:center;"> 62 </td>
   <td style="text-align:center;"> 6 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 82 </td>
   <td style="text-align:center;"> 85 </td>
   <td style="text-align:center;"> 3 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 74 </td>
   <td style="text-align:center;"> 73 </td>
   <td style="text-align:center;"> -1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 79 </td>
   <td style="text-align:center;"> 85 </td>
   <td style="text-align:center;"> 6 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 63 </td>
   <td style="text-align:center;"> 64 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 8 </td>
   <td style="text-align:center;"> 59 </td>
   <td style="text-align:center;"> 59 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 9 </td>
   <td style="text-align:center;"> 72 </td>
   <td style="text-align:center;"> 73 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;"> 66 </td>
   <td style="text-align:center;"> 70 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
</tbody>
</table>

Now, the within-subjects t-test formula is:  

$$t = \frac{\bar{D}}{\frac{SD_{D}}{\sqrt{N}}}$$

We can see that $N = 10$, but we need to calculate $\bar{D}$ (called D-Bar, the mean of the $D$ column) and $SD_{D}$. 

So the $\bar{D}$ formula is the same as the **mean** formula:

$$\bar{D} = \frac{\sum{D}}{N}$$

Where $D$ is $PostTest - PreTest$ for each Participant.

Then:

$$\bar{D} = \frac{(68 - 60) + (75 - 64) + (62 - 56) + (85 - 82) + (73 - 74) + \\ (85- 79) + (64 - 63) + (59 - 59) + (73 - 72) + (70 - 66)}{10}$$

$$\bar{D} = \frac{8 + 11 + 6 + 3 + -1 + 6 + 1 + 0 + 1 + 2}{10}$$


$$\bar{D} = \frac{39}{10}$$




$$\bar{D} = 3.9$$

So we find that $\bar{D}$ = 3.9

The standard deviation formula is:

$$SD = \sqrt\frac{(X - \bar{X})^2}{N-1}$$

Which if we translate to using D, becomes:

$$SD_{D} = \sqrt\frac{(D - \bar{D})^2}{N-1}$$

Then:

$$SD_{D} =\sqrt\frac{(8 - 3.9)^2 + (11 - 3.9)^2 + (6 - 3.9)^2 + (3 - 3.9)^2 + (-1 - 3.9)^2 + \\ (6 - 3.9)^2 + (1 - 3.9)^2 + (0 - 3.9)^2 + (1 - 3.9)^2 + (4 - 3.9)^2}{10 - 1}$$

$$SD_{D} =\sqrt\frac{(4.1)^2 + (7.1)^2 + (2.1)^2 + (-0.9)^2 + (-4.9)^2 + \\ (2.1)^2 + (-2.9)^2 + (-3.9)^2 + (-2.9)^2 + (0.1)^2}{10 - 1}$$

$$SD_{D} =\sqrt\frac{16.81 + 50.41 + 4.41 + 0.81 + 24.01 + 4.41 + 8.41 + 15.21 + 8.41 + 0.01}{10 - 1}$$

$$SD_{D} =\sqrt\frac{132.9}{10 - 1}$$

$$SD_{D} =\sqrt\frac{132.9}{9}$$

$$SD_{D} =\sqrt{14.7666667}$$

$$SD_{D} =3.8427421$$

And the $SD_{D}$ = 3.8427421

And the t-test formula is:

$$t = \frac{\bar{D}}{\frac{SD_{D}}{\sqrt{N}}}$$

Then:

$$t = \frac{3.9}{\frac{3.8427421}{\sqrt{10}}} $$

$$t = \frac{3.9}{\frac{3.8427421}{3.1622777}} $$

$$t = \frac{3.9}{1.2151817} $$

$$t = 3.2093965 $$

And so $t = 3.21$

Great! Now we just need the degrees of freedom where the formula is:

$$df = N - 1$$

And we already know that $N= 10$ and putting them into the equation we get:

$$df = 10 - 1$$
$$df = 9$$

And finally Cohen's d, the effect size:

$$d = \frac{t}{\sqrt{N}}$$

Which, based on the info above, we know:

* $t = 3.21$
* $N = 10$

And putting those into the formula we get:

$$d = \frac{3.21}{\sqrt{10}}$$

Which gives us:

$$d = \frac{3.21}{3.1622777}$$

And so:

$$d = 1.0150911$$


## Test Yourself

### DataSet 1

Let's say that this is our starting data:

<table>
 <thead>
  <tr>
   <th style="text-align:center;"> Participants </th>
   <th style="text-align:center;"> PreTest </th>
   <th style="text-align:center;"> PostTest </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 71 </td>
   <td style="text-align:center;"> 66 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 78 </td>
   <td style="text-align:center;"> 75 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 53 </td>
   <td style="text-align:center;"> 54 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 73 </td>
   <td style="text-align:center;"> 67 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 79 </td>
   <td style="text-align:center;"> 75 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 60 </td>
   <td style="text-align:center;"> 62 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 75 </td>
   <td style="text-align:center;"> 74 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 8 </td>
   <td style="text-align:center;"> 52 </td>
   <td style="text-align:center;"> 52 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 9 </td>
   <td style="text-align:center;"> 55 </td>
   <td style="text-align:center;"> 48 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;"> 62 </td>
   <td style="text-align:center;"> 60 </td>
  </tr>
</tbody>
</table>


<div class='solution'><button>Show me the working and answer</button>

The first thing we need to do is calculate the difference between the PostTest and the PreTest for each participant, based on $D = PostTest - PreTest$.  So for example:

* Participant 1 would be: 66 - 71 = -5
* Participant 2 would be: 75 - 78 = -3
* etc

And if we do that for each Participant and added a column of the differences ($D$) then we would see:

<table>
 <thead>
  <tr>
   <th style="text-align:center;"> Participants </th>
   <th style="text-align:center;"> PreTest </th>
   <th style="text-align:center;"> PostTest </th>
   <th style="text-align:center;"> D </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 71 </td>
   <td style="text-align:center;"> 66 </td>
   <td style="text-align:center;"> -5 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 78 </td>
   <td style="text-align:center;"> 75 </td>
   <td style="text-align:center;"> -3 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 53 </td>
   <td style="text-align:center;"> 54 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 73 </td>
   <td style="text-align:center;"> 67 </td>
   <td style="text-align:center;"> -6 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 79 </td>
   <td style="text-align:center;"> 75 </td>
   <td style="text-align:center;"> -4 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 60 </td>
   <td style="text-align:center;"> 62 </td>
   <td style="text-align:center;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 75 </td>
   <td style="text-align:center;"> 74 </td>
   <td style="text-align:center;"> -1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 8 </td>
   <td style="text-align:center;"> 52 </td>
   <td style="text-align:center;"> 52 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 9 </td>
   <td style="text-align:center;"> 55 </td>
   <td style="text-align:center;"> 48 </td>
   <td style="text-align:center;"> -7 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;"> 62 </td>
   <td style="text-align:center;"> 60 </td>
   <td style="text-align:center;"> -2 </td>
  </tr>
</tbody>
</table>

Now, the within-subjects t-test formula is:  

$$t = \frac{\bar{D}}{\frac{SD_{D}}{\sqrt{N}}}$$

We can see that $N = 10$, but we need to calculate $\bar{D}$ (called D-Bar, the mean of the $D$ column) and $SD_{D}$. 

So the $\bar{D}$ formula is the same as the **mean** formula:

$$\bar{D} = \frac{\sum{D}}{N}$$

Where $D$ is $PostTest - PreTest$ for each Participant.

Then:

$$\bar{D} = \frac{(66 - 71) + (75 - 78) + (54 - 53) + (67 - 73) + (75 - 79) + \\ (62- 60) + (74 - 75) + (52 - 52) + (48 - 55) + (60 - 62)}{10}$$

$$\bar{D} = \frac{-5 + -3 + 1 + -6 + -4 + 2 + -1 + 0 + -7 + 4}{10}$$


$$\bar{D} = \frac{-25}{10}$$




$$\bar{D} = -2.5$$

So we find that $\bar{D}$ = -2.5

The standard deviation formula is:

$$SD = \sqrt\frac{(X - \bar{X})^2}{N-1}$$

Which if we translate to using D, becomes:

$$SD_{D} = \sqrt\frac{(D - \bar{D})^2}{N-1}$$

Then:

$$SD_{D} =\sqrt\frac{(-5 - -2.5)^2 + (-3 - -2.5)^2 + (1 - -2.5)^2 + (-6 - -2.5)^2 + (-4 - -2.5)^2 + \\ (2 - -2.5)^2 + (-1 - -2.5)^2 + (0 - -2.5)^2 + (-7 - -2.5)^2 + (-2 - -2.5)^2}{10 - 1}$$

$$SD_{D} =\sqrt\frac{(-2.5)^2 + (-0.5)^2 + (3.5)^2 + (-3.5)^2 + (-1.5)^2 + \\ (4.5)^2 + (1.5)^2 + (2.5)^2 + (-4.5)^2 + (0.5)^2}{10 - 1}$$

$$SD_{D} =\sqrt\frac{6.25 + 0.25 + 12.25 + 12.25 + 2.25 + 20.25 + 2.25 + 6.25 + 20.25 + 0.25}{10 - 1}$$

$$SD_{D} =\sqrt\frac{82.5}{10 - 1}$$

$$SD_{D} =\sqrt\frac{82.5}{9}$$

$$SD_{D} =\sqrt{9.1666667}$$

$$SD_{D} =3.0276504$$

And the $SD_{D}$ = 3.0276504

And the t-test formula is:

$$t = \frac{\bar{D}}{\frac{SD_{D}}{\sqrt{N}}}$$

Then:

$$t = \frac{-2.5}{\frac{3.0276504}{\sqrt{10}}} $$

$$t = \frac{-2.5}{\frac{3.0276504}{3.1622777}} $$

$$t = \frac{-2.5}{0.9574271} $$

$$t = -2.6111648 $$

And so $t = -2.61$

Great! Now we just need the degrees of freedom where the formula is:

$$df = N - 1$$

And we already know that $N= 10$ and putting them into the equation we get:

$$df = 10 - 1$$
$$df = 9$$

And finally Cohen's d, the effect size:

$$d = \frac{t}{\sqrt{N}}$$

Which, based on the info above, we know:

* $t = -2.61$
* $N = 10$

And putting those into the formula we get:

$$d = \frac{-2.61}{\sqrt{10}}$$

Which gives us:

$$d = \frac{-2.61}{3.1622777}$$

And so:

$$d = -0.8253545$$

<div class='solution'><button>Solution</button>


## Look-Up table

Remembering that the $t_{crit}$ value is the smallest t-value you need to find a significant effect, find the $t_{crit}$ for your df, assuming $\alpha = .05$. If the $t$ value you calculated is equal to or larger than $t_{crit}$ then your test is significant.

|df | $\alpha = .05$|
|:-:|:-------------:|
|5  |2.571|
|10 |2.228|
|15 |2.131|
|20 |2.086|
|30 |2.042|
|40 |2.021|
|50 |2.009|
|60 |2|
|70 |1.994|
|80 |1.99|
|90 |1.987|
|100|1.984|
